<form class="form-group">
  <div class="row">
    <div class="form-wrap">
      <div id="first_form">
        <%#= label_tag 'member_1_1', 'Member 1', :class => 'control-label' %>
        <div class="droppable">
          <div class="draggable">
            <select id="member_1_1" class="select form-control" name='member_1[]'>
              <%= options_from_collection_for_select(@pairee, :id, :name) %>
            </select>
          </div>
        </div>

        <div class="droppable">
          <%#= label_tag 'member_2_1', 'Member 2', :class => 'control-label' %>
          <div class="draggable">
            <select id="member_2_1" class="select form-control" name='member_2[]'>
              <%= options_from_collection_for_select(@pairee, :id, :name) %>
            </select>
          </div>
        </div>

        <div class="clear"></div>

        <div class="droppable">
          <%#= label_tag 'member_1_1', 'Member 1', :class => 'control-label' %>
          <div class="draggable">
            <select id="member_1_1" class="select form-control" name='member_1[]'>
              <%= options_from_collection_for_select(@pairee, :id, :name) %>
            </select>
          </div>
        </div>

        <div class="droppable">
          <%#= label_tag 'member_2_1', 'Member 2', :class => 'control-label' %>
          <div class="draggable">
            <select id="member_2_1" class="select form-control" name='member_2[]'>
              <%= options_from_collection_for_select(@pairee, :id, :name) %>
            </select>
          </div>
        </div>

        <div class="clear"></div>

        <div class="droppable">
          <%#= label_tag 'member_1_1', 'Member 1', :class => 'control-label' %>
          <div class="draggable">
            <select id="member_1_1" class="select form-control" name='member_1[]'>
              <%= options_from_collection_for_select(@pairee, :id, :name) %>
            </select>
          </div>
        </div>

        <div class="droppable">
          <%#= label_tag 'member_2_1', 'Member 2', :class => 'control-label' %>
          <div class="draggable">
            <select id="member_2_1" class="select form-control" name='member_2[]'>
              <%= options_from_collection_for_select(@pairee, :id, :name) %>
            </select>
          </div>
        </div>

        <div class="clear"></div>

        <div class="droppable">
          <%#= label_tag 'member_1_1', 'Member 1', :class => 'control-label' %>
          <div class="draggable">
            <select id="member_1_1" class="select form-control" name='member_1[]'>
              <%= options_from_collection_for_select(@pairee, :id, :name) %>
            </select>
          </div>
        </div>

        <div class="droppable">
          <%#= label_tag 'member_2_1', 'Member 2', :class => 'control-label' %>
          <div class="draggable">
            <select id="member_2_1" class="select form-control" name='member_2[]'>
              <%= options_from_collection_for_select(@pairee, :id, :name) %>
            </select>
          </div>
        </div>

        <div class="clear"></div>

        <div class="droppable">
          <%#= label_tag 'member_1_1', 'Member 1', :class => 'control-label' %>
          <div class="draggable">
            <select id="member_1_1" class="select form-control" name='member_1[]'>
              <%= options_from_collection_for_select(@pairee, :id, :name) %>
            </select>
          </div>
        </div>

        <div class="droppable">
          <%#= label_tag 'member_2_1', 'Member 2', :class => 'control-label' %>
          <div class="draggable">
            <select id="member_2_1" class="select form-control" name='member_2[]'>
              <%= options_from_collection_for_select(@pairee, :id, :name) %>
            </select>
          </div>
        </div>

        <div class="clear"></div>

        <div style="margin-top: 30px;" class="col-sm-3">
            <%= label_tag 'date_1', 'Date', class: 'select control-label' %><br/>
            <input type="text" class="datepicker form-control" id="date_1" name="date[]">
        </div>

      </div>
    </div>

    <!--
    <div class="row" style="text-align: center; padding-top: 1em">
        <button id="tambah" class="btn">Add New</button>
        <%= submit_tag 'Register', { class: 'btn btn-primary' } %>
    </div>
    -->

    <script>
      $(document).ready(function() {
        window.startPos = window.endPos = {};

        makeDraggable();

        $('.droppable').droppable({
          hoverClass: 'hoverClass',
          drop: function(event, ui) {
            var $from = $(ui.draggable),
            $fromParent = $from.parent(),
            $to = $(this).children(),
            $toParent = $(this);

            window.endPos = $to.offset();

            swap($from, $from.offset(), window.endPos, 200);
            swap($to, window.endPos, window.startPos, 200, function() {
              $toParent.html($from.css({
              position: 'relative',
              left: '',
              top: '',
              'z-index': ''
              }));

              $fromParent.html($to.css({
                position: 'relative',
                left: '',
                top: '',
                'z-index': ''
              }));

              makeDraggable();
            });
          }
        });

        function makeDraggable() {
          $('.draggable').draggable({
            zIndex: 99999,
            revert: 'invalid',
            start: function(event, ui) {
              window.startPos = $(this).offset();
            }
          });
        }

        function swap($el, fromPos, toPos, duration, callback) {
          $el.css('position', 'absolute')
          .css(fromPos)
          .animate(toPos, duration, function() {
            if (callback) callback();
          });
        }

        $('.datepicker').datepicker({ dateFormat: 'dd MM yy' });

      });
    </script>
  </div>
</form>
